<div class="row">
    <div class="col-sm-7" >
        <div class="mat-elevation-z8" >
              <table mat-table [dataSource]="dataSource" matSort>
             
                 
                 <ng-container matColumnDef="objectifmacron">
                  <th mat-header-cell *matHeaderCellDef style="text-align: center;">objectif macron</th>
                  <td mat-cell *matCellDef="let element">{{element.objectifmacrom}}  </td>
                </ng-container>
                <ng-container matColumnDef="plateformes">
                    <th mat-header-cell *matHeaderCellDef style="text-align: center;">plateformes</th>
                    <td mat-cell *matCellDef="let element" >
                      <p *ngFor="let elts of element.plateformes" style="margin-bottom: 0.1em;">
                        {{elts.nom}}
                    </p>
                    </td>
                  </ng-container>
                <ng-container matColumnDef="actions">
                  <th style="text-align: center;" mat-header-cell *matHeaderCellDef> Action </th>
                  <td  mat-cell *matCellDef="let element" class="action-link"> 
                    <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
                      <mat-icon>more_vert</mat-icon>
                    </button>
                    <mat-menu #menu="matMenu">
                      <button (click)="update(element)" style="color: rgb(0, 38, 255);" mat-menu-item>
                        <mat-icon>create</mat-icon>
                        <span>modifier</span> 
                      </button>
                      <button style="color: red; "  (click)="delete(element.idoption)" mat-menu-item>
                        <mat-icon>delete</mat-icon>
                        <span>supprimer</span>
                      </button>
                    </mat-menu>
                    
                </td>
                </ng-container> 
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"
                (click) = "rowClicked(row)"></tr>
              </table>
              <mat-paginator  [length]="100" [pageSize]="10"[pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
            </div>
            </div>
            <div class="col-sm-5" >
                <div class="container" >
                    <div class="panel panel-success" >
                        <div class="panel-heading" >
                          <h2>New Option</h2>
                          <p *ngIf="message!=null" style="color: red;font-size: 12pt;text-align: center;">{{message}}</p>
                        </div>
                        <div class="panel-body">
                          <form [formGroup]="options" >
                            <mat-form-field>
                              <mat-label >objectif macron</mat-label>
                              <input  type="text" matInput  required formControlName="objectifmacrom" name="objectifmacrom" #lib>
                            </mat-form-field>
                            <mat-form-field appearance="fill">
                              <mat-label>Plateforme</mat-label>
                              <mat-select formControlName="plateformes" required multiple>
                                <mat-option   *ngFor="let plateforme of listePlateformes" [value]="plateforme" >{{plateforme.nom}}</mat-option>
                                </mat-select>
                                </mat-form-field>
                                <div style="text-align: center;">
                                  <button  mat-button type="submit" style="width: 35%; font-size: 20px;"
                                  [disabled]="(lib.value.length == 0 )"
                                    class="btn btn-success" (click)="saveOption()">
                                    ajouter
                                    </button>
                                 </div>
                          </form> 
                        </div>
                    </div> 
                </div>
            </div>
</div>